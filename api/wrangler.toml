name = "sebit-insight-api"
main = "src/index.ts"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

[[d1_databases]]
binding = "DB"
database_name = "sebit-insight"
database_id = "e440e64b-801d-4272-82f1-e3193e3f0e64"

[vars]
ENVIRONMENT = "production"
ACCESS_TEAM_DOMAIN = "sebit.cloudflareaccess.com"

# 아래 값들은 wrangler secret으로 관리 (production에서 override)
# NW_CLIENT_ID, NW_CLIENT_SECRET, NW_REDIRECT_URI, FRONTEND_URL, JWT_SECRET
# NW_SERVICE_ACCOUNT_ID, NW_PRIVATE_KEY

# 네이버 웍스 인사정보 동기화 (매일 00:00 UTC = 09:00 KST)
[triggers]
crons = ["0 0 * * *"]
