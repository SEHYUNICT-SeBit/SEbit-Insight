name = "sebit-insight-api"
main = "src/index.ts"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

[[d1_databases]]
binding = "DB"
database_name = "sebit-insight"
database_id = "<D1_DATABASE_ID>"

[vars]
ENVIRONMENT = "development"
ACCESS_TEAM_DOMAIN = "sebit.cloudflareaccess.com"
NW_CLIENT_ID = ""
NW_CLIENT_SECRET = ""
NW_REDIRECT_URI = "http://localhost:8800/api/auth/callback"
FRONTEND_URL = "http://localhost:3100"
JWT_SECRET = "dev-secret-change-in-production"
NW_SERVICE_ACCOUNT_ID = ""

# Production: Cloudflare Dashboard에서 ENVIRONMENT = "production" 으로 설정

# 네이버 웍스 인사정보 동기화 (매일 00:00 UTC = 09:00 KST)
# NW_PRIVATE_KEY는 시크릿으로 관리: wrangler secret put NW_PRIVATE_KEY
[triggers]
crons = ["0 0 * * *"]
